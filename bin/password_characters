#!/usr/bin/env ruby
password = if ARGV.any?
             ARGV[0]
           else
             puts 'Enter password:'
             gets
           end

character_ordinals = if ARGV.any?
                       ARGV[1]
                     else
                       puts 'Enter indices:'
                       gets
                     end

def character_ordinals_to_a character_ordinals
  character_ordinals.split ','
end

class PasswordCharacters
  def initialize password, character_ordinals
    abort "Indices weren't unique." unless uniq?(character_ordinals)
    abort "Indices weren't sorted." unless sorted?(character_ordinals)

    @password = password
    @indices = indices character_ordinals
  end

  def characters
    @indices.map { |index| @password[index] }
  end

  private

  def uniq? a
    a.uniq == a
  end

  def sorted? a
    a.sort == a
  end

  def indices character_ordinals
    character_ordinals.map { |n| n.to_i - 1 }
  end
end

puts PasswordCharacters.new(password, character_ordinals_to_a(character_ordinals)).characters.join ' '





